<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/src/main/java/com/group6/digitalnotes/dao/NoteDAO.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/group6/digitalnotes/dao/NoteDAO.java" />
              <option name="originalContent" value="package com.group6.digitalnotes.dao;&#10;&#10;import com.group6.digitalnotes.database.DBConnection;&#10;import com.group6.digitalnotes.model.Note;&#10;&#10;import java.sql.*;&#10;import java.util.ArrayList;&#10;import java.util.List;&#10;&#10;public class NoteDAO {&#10;&#10;    public void addNote(Note note) {&#10;        String sql = &quot;INSERT INTO notes (user_id, title, content) VALUES (?, ?, ?)&quot;;&#10;        try (Connection conn = DBConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS)) {&#10;            stmt.setInt(1, note.getUserId());&#10;            stmt.setString(2, note.getTitle());&#10;            stmt.setString(3, note.getContent());&#10;            stmt.executeUpdate();&#10;&#10;            ResultSet keys = stmt.getGeneratedKeys();&#10;            if (keys.next()) note.setNoteId(keys.getInt(1));&#10;        } catch (SQLException e) {&#10;            e.printStackTrace();&#10;        }&#10;    }&#10;&#10;    public List&lt;Note&gt; getNotesForUser(int userId) {&#10;        List&lt;Note&gt; notes = new ArrayList&lt;&gt;();&#10;        String sql = &quot;SELECT * FROM notes WHERE user_id = ?&quot;;&#10;        try (Connection conn = DBConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            stmt.setInt(1, userId);&#10;            ResultSet rs = stmt.executeQuery();&#10;            while (rs.next()) {&#10;                notes.add(new Note(&#10;                        rs.getInt(&quot;note_id&quot;),&#10;                        rs.getInt(&quot;user_id&quot;),&#10;                        rs.getString(&quot;title&quot;),&#10;                        rs.getString(&quot;content&quot;)&#10;                ));&#10;            }&#10;        } catch (SQLException e) {&#10;            e.printStackTrace();&#10;        }&#10;        return notes;&#10;    }&#10;&#10;    public String getNoteByTitle(int userId, String title) {&#10;        String sql = &quot;SELECT content FROM notes WHERE user_id = ? AND title = ?&quot;;&#10;        try (Connection conn = DBConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            stmt.setInt(1, userId);&#10;            stmt.setString(2, title);&#10;            ResultSet rs = stmt.executeQuery();&#10;            if (rs.next()) return rs.getString(&quot;content&quot;);&#10;        } catch (SQLException e) {&#10;            e.printStackTrace();&#10;        }&#10;        return null;&#10;    }&#10;&#10;    public void deleteNoteByTitle(int userId, String title) {&#10;        String sql = &quot;DELETE FROM notes WHERE user_id = ? AND title = ?&quot;;&#10;        try (Connection conn = DBConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            stmt.setInt(1, userId);&#10;            stmt.setString(2, title);&#10;            stmt.executeUpdate();&#10;        } catch (SQLException e) {&#10;            e.printStackTrace();&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.group6.digitalnotes.dao;&#10;&#10;import com.group6.digitalnotes.database.DBConnection;&#10;import com.group6.digitalnotes.model.Note;&#10;import org.slf4j.Logger;&#10;import org.slf4j.LoggerFactory;&#10;&#10;import java.sql.*;&#10;import java.util.ArrayList;&#10;import java.util.List;&#10;&#10;public class NoteDAO {&#10;&#10;    private static final Logger logger = LoggerFactory.getLogger(NoteDAO.class);&#10;&#10;    public void addNote(Note note) {&#10;        String sql = &quot;INSERT INTO notes (user_id, title, content) VALUES (?, ?, ?)&quot;;&#10;        try (Connection conn = DBConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS)) {&#10;            stmt.setInt(1, note.getUserId());&#10;            stmt.setString(2, note.getTitle());&#10;            stmt.setString(3, note.getContent());&#10;            stmt.executeUpdate();&#10;&#10;            ResultSet keys = stmt.getGeneratedKeys();&#10;            if (keys.next()) note.setNoteId(keys.getInt(1));&#10;        } catch (SQLException e) {&#10;            logger.error(&quot;Failed to add note for user: {}, title: {}&quot;, note.getUserId(), note.getTitle(), e);&#10;        }&#10;    }&#10;&#10;    public List&lt;Note&gt; getNotesForUser(int userId) {&#10;        List&lt;Note&gt; notes = new ArrayList&lt;&gt;();&#10;        String sql = &quot;SELECT * FROM notes WHERE user_id = ?&quot;;&#10;        try (Connection conn = DBConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            stmt.setInt(1, userId);&#10;            ResultSet rs = stmt.executeQuery();&#10;            while (rs.next()) {&#10;                notes.add(new Note(&#10;                        rs.getInt(&quot;note_id&quot;),&#10;                        rs.getInt(&quot;user_id&quot;),&#10;                        rs.getString(&quot;title&quot;),&#10;                        rs.getString(&quot;content&quot;)&#10;                ));&#10;            }&#10;        } catch (SQLException e) {&#10;            logger.error(&quot;Failed to fetch notes for user: {}&quot;, userId, e);&#10;        }&#10;        return notes;&#10;    }&#10;&#10;    public String getNoteByTitle(int userId, String title) {&#10;        String sql = &quot;SELECT content FROM notes WHERE user_id = ? AND title = ?&quot;;&#10;        try (Connection conn = DBConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            stmt.setInt(1, userId);&#10;            stmt.setString(2, title);&#10;            ResultSet rs = stmt.executeQuery();&#10;            if (rs.next()) return rs.getString(&quot;content&quot;);&#10;        } catch (SQLException e) {&#10;            logger.error(&quot;Failed to fetch note by title for user: {}, title: {}&quot;, userId, title, e);&#10;        }&#10;        return null;&#10;    }&#10;&#10;    public void deleteNoteByTitle(int userId, String title) {&#10;        String sql = &quot;DELETE FROM notes WHERE user_id = ? AND title = ?&quot;;&#10;        try (Connection conn = DBConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            stmt.setInt(1, userId);&#10;            stmt.setString(2, title);&#10;            stmt.executeUpdate();&#10;        } catch (SQLException e) {&#10;            logger.error(&quot;Failed to delete note for user: {}, title: {}&quot;, userId, title, e);&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/group6/digitalnotes/view/View.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/group6/digitalnotes/view/View.java" />
              <option name="originalContent" value="package com.group6.digitalnotes.view;&#10;&#10;import com.group6.digitalnotes.model.User;&#10;import javafx.application.Application;&#10;import javafx.fxml.FXMLLoader;&#10;import javafx.scene.Scene;&#10;import javafx.stage.Stage;&#10;&#10;import java.io.IOException;&#10;&#10;public class View extends Application {&#10;&#10;    public static Stage primaryStage;&#10;    public static boolean isLoggedIn = false;&#10;    public static User loggedInUser;&#10;    public static String currentLanguage = &quot;en&quot;;&#10;&#10;    @Override&#10;    public void start(Stage stage) throws Exception {&#10;        primaryStage = stage;&#10;&#10;        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/fxml/login-view.fxml&quot;));&#10;        Scene scene = new Scene(loader.load());&#10;&#10;        stage.setTitle(&quot;Digital Notes&quot;);&#10;        stage.setScene(scene);&#10;        stage.setMinWidth(1000);&#10;        stage.setMinHeight(800);&#10;        stage.show();&#10;    }&#10;&#10;    public static void launchApp(String[] args) {&#10;        launch(args);&#10;    }&#10;&#10;    public static void switchScene(Stage stage, String fxmlPath) {&#10;        try {&#10;            FXMLLoader loader = new FXMLLoader(View.class.getResource(fxmlPath));&#10;            Scene scene = new Scene(loader.load());&#10;            stage.setScene(scene);&#10;        } catch (IOException e) {&#10;            e.printStackTrace();&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.group6.digitalnotes.view;&#10;&#10;import com.group6.digitalnotes.model.User;&#10;import javafx.application.Application;&#10;import javafx.fxml.FXMLLoader;&#10;import javafx.scene.Scene;&#10;import javafx.stage.Stage;&#10;import org.slf4j.Logger;&#10;import org.slf4j.LoggerFactory;&#10;&#10;import java.io.IOException;&#10;&#10;public class View extends Application {&#10;&#10;    private static final Logger logger = LoggerFactory.getLogger(View.class);&#10;&#10;    public static Stage primaryStage;&#10;    public static boolean isLoggedIn = false;&#10;    public static User loggedInUser;&#10;    public static String currentLanguage = &quot;en&quot;;&#10;&#10;    @Override&#10;    public void start(Stage stage) throws Exception {&#10;        primaryStage = stage;&#10;&#10;        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/fxml/login-view.fxml&quot;));&#10;        Scene scene = new Scene(loader.load());&#10;&#10;        stage.setTitle(&quot;Digital Notes&quot;);&#10;        stage.setScene(scene);&#10;        stage.setMinWidth(1000);&#10;        stage.setMinHeight(800);&#10;        stage.show();&#10;    }&#10;&#10;    public static void launchApp(String[] args) {&#10;        launch(args);&#10;    }&#10;&#10;    public static void switchScene(Stage stage, String fxmlPath) {&#10;        try {&#10;            FXMLLoader loader = new FXMLLoader(View.class.getResource(fxmlPath));&#10;            Scene scene = new Scene(loader.load());&#10;            stage.setScene(scene);&#10;        } catch (IOException e) {&#10;            logger.error(&quot;Failed to switch scene to: {}&quot;, fxmlPath, e);&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>