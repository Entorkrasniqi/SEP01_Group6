<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/src/main/java/com/group6/digitalnotes/dao/LocalizationDAO.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/group6/digitalnotes/dao/LocalizationDAO.java" />
              <option name="originalContent" value="package com.group6.digitalnotes.dao;&#10;&#10;import com.group6.digitalnotes.database.DBConnection;&#10;&#10;import java.sql.Connection;&#10;import java.sql.PreparedStatement;&#10;import java.sql.ResultSet;&#10;import java.sql.SQLException;&#10;import java.util.HashMap;&#10;import java.util.Map;&#10;&#10;public class LocalizationDAO {&#10;&#10;    // Get a single key and language&#10;    public String getTranslation(String key, String language) {&#10;        String sql = &quot;SELECT value FROM localization_strings WHERE `key` = ? AND language = ? LIMIT 1&quot;;&#10;&#10;        try (Connection conn = DBConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;&#10;            stmt.setString(1, key);&#10;            stmt.setString(2, language);&#10;&#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                if (rs.next()) {&#10;                    return rs.getString(&quot;value&quot;);&#10;                }&#10;            }&#10;        } catch (SQLException e) {&#10;            e.printStackTrace();&#10;        }&#10;        return null;&#10;    }&#10;&#10;    // Get all translations for a language, Map&lt;key, value&gt;&#10;    public Map&lt;String, String&gt; getTranslationsForLanguage(String language) {&#10;        String sql = &quot;SELECT `key`, value FROM localization_strings WHERE language = ?&quot;;&#10;        Map&lt;String, String&gt; translations = new HashMap&lt;&gt;();&#10;&#10;        try (Connection conn = DBConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;&#10;            stmt.setString(1, language);&#10;&#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                while (rs.next()) {&#10;                    translations.put(rs.getString(&quot;key&quot;), rs.getString(&quot;value&quot;));&#10;                }&#10;            }&#10;        } catch (SQLException e) {&#10;            e.printStackTrace();&#10;        }&#10;&#10;        return translations;&#10;    }&#10;&#10;    // default language&#10;    public String getTranslationWithFallback(String key, String language, String defaultLanguage) {&#10;        String value = getTranslation(key, language);&#10;        if (value != null) {&#10;            return value;&#10;        }&#10;        return getTranslation(key, defaultLanguage);&#10;    }&#10;&#10;    // Convenience method used by controllers: load all key/value pairs for a language&#10;    public Map&lt;String, String&gt; loadLanguage(String language) {&#10;        // Delegate to getTranslationsForLanguage so there is a single implementation&#10;        return getTranslationsForLanguage(language);&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.group6.digitalnotes.dao;&#10;&#10;import com.group6.digitalnotes.database.DBConnection;&#10;&#10;import java.sql.Connection;&#10;import java.sql.PreparedStatement;&#10;import java.sql.ResultSet;&#10;import java.sql.SQLException;&#10;import java.util.HashMap;&#10;import java.util.Map;&#10;&#10;public class LocalizationDAO {&#10;&#10;    // Get a single key and language&#10;    public String getTranslation(String key, String language) {&#10;        String sql = &quot;SELECT value FROM localization_strings WHERE `key` = ? AND language = ? LIMIT 1&quot;;&#10;&#10;        try (Connection conn = DBConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;&#10;            stmt.setString(1, key);&#10;            stmt.setString(2, language);&#10;&#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                if (rs.next()) {&#10;                    return rs.getString(&quot;value&quot;);&#10;                }&#10;            }&#10;        } catch (SQLException e) {&#10;            e.printStackTrace();&#10;        }&#10;        return null;&#10;    }&#10;&#10;    // Get all translations for a language, Map&lt;key, value&gt;&#10;    public Map&lt;String, String&gt; getTranslationsForLanguage(String language) {&#10;        String sql = &quot;SELECT `key`, value FROM localization_strings WHERE language = ?&quot;;&#10;        Map&lt;String, String&gt; translations = new HashMap&lt;&gt;();&#10;&#10;        try (Connection conn = DBConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;&#10;            stmt.setString(1, language);&#10;&#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                while (rs.next()) {&#10;                    translations.put(rs.getString(&quot;key&quot;), rs.getString(&quot;value&quot;));&#10;                }&#10;            }&#10;        } catch (SQLException e) {&#10;            e.printStackTrace();&#10;        }&#10;&#10;        return translations;&#10;    }&#10;&#10;    // default language&#10;    public String getTranslationWithFallback(String key, String language, String defaultLanguage) {&#10;        String value = getTranslation(key, language);&#10;        if (value != null) {&#10;            return value;&#10;        }&#10;        return getTranslation(key, defaultLanguage);&#10;    }&#10;&#10;    // Convenience method used by controllers: load all key/value pairs for a language&#10;    public Map&lt;String, String&gt; loadLanguage(String language) {&#10;        // Delegate to getTranslationsForLanguage so there is a single implementation&#10;        return getTranslationsForLanguage(language);&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>